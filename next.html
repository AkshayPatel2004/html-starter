<html><body><p>
npm init -y<br>
<br>
index.js<br>
-- This file sets up and runs the Express server, connects to MongoDB, loads routes, and uses middleware.<br>
<br>
	import express from "express";<br>
	import mongoose from "mongoose";<br>
	import bodyParser from "body-parser";<br>
	import dotenv from "dotenv";<br>
	import route from "./routes/userRoute.js";<br>
	import cors from "cors";<br>
<br>
	const app = express();<br>
	app.use(cors());<br>
<br>
	app.use(bodyParser.json());<br>
	dotenv.config();<br>
<br>
	const PORT = process.env.PORT || 8000;<br>
	const MONGO_URI = process.env.MONGO_URI;<br>
<br>
	mongoose<br>
		.connect(MONGO_URI)<br>
		.then(() => {<br>
    console.log("Connected to MongoDB");<br>
	})<br>
	.catch((err) => {<br>
    console.error("MongoDB connection error:", err);<br>
	});<br>
<br>
	app.listen(PORT, () => {<br>
		console.log(Server is running on port ${PORT});<br>
	});<br>
<br>
	app.use("/api/user", route);<br>
<br>
<br>
userModel.js<br>
	import mongoose from "mongoose";<br>
<br>
	const userSchema = new mongoose.Schema({<br>
	name: {<br>
		type: String,<br>
		required: true,<br>
		trim: true,<br>
		minlength: 3,<br>
		maxlength: 50,<br>
	},<br>
	email: {<br>
		type: String,<br>
		required: true,<br>
		unique: true,<br>
	},<br>
	address: {<br>
		type: String,<br>
		required: true,<br>
	},<br>
	});<br>
<br>
	export default mongoose.model("User", userSchema);<br>
<br>
<br>
userController<br>
--This file handles CRUD operations: Create, Read (Fetch), Update, Delete users from the MongoDB database using Mongoose.<br>
<br>
	import User from "../model/userModel.js";<br>
	import mongoose from "mongoose";<br>
<br>
	// Controller function to fetch users<br>
	export const fetch = async (req, res) => {<br>
	try {<br>
		const users = await User.find();<br>
		if (users.length === 0) {<br>
			return res.status(404).json({ message: "No users found" });<br>
		}<br>
		res.status(200).json(users);<br>
	} catch (error) {<br>
		res.status(500).json({ message: error.message });<br>
	}<br>
	};<br>
<br>
	// Controller function to create a new user<br>
	export const create = async (req, res) => {<br>
	try {<br>
		const userData = new User(req.body);<br>
		const { email } = userData;<br>
<br>
		const userExists = await User.findOne({ email });<br>
		if (userExists) {<br>
			return res.status(400).json({ message: "User already exists" });<br>
		}<br>
<br>
    const savedUser = await userData.save();<br>
    res.status(201).json(savedUser);<br>
		} catch (error) {<br>
			res.status(500).json({ message: error.message });<br>
	}<br>
	};<br>
<br>
	// Controller function to update a user<br>
	export const update = async (req, res) => {<br>
	try {<br>
		const { id } = req.params;<br>
		const updatedUser = await User.findByIdAndUpdate(id, req.body, {<br>
		new: true,<br>
	});<br>
    if (!updatedUser) {<br>
      return res.status(404).json({ message: "User not found" });<br>
    }<br>
    res.status(200).json(updatedUser);<br>
	} catch (error) {<br>
		res.status(500).json({ message: error.message });<br>
	}<br>
	};<br>
<br>
	// Controller function to delete a user<br>
	export const deleteUser = async (req, res) => {<br>
	try {<br>
		const { id } = req.params;<br>
		const deletedUser = await User.findByIdAndDelete(id);<br>
		if (!deletedUser) {<br>
			return res.status(404).json({ message: "User not found" });<br>
		}<br>
    res.status(200).json({ message: "User deleted successfully" });<br>
	} catch (error) {<br>
		res.status(500).json({ message: error.message });<br>
	}<br>
	};<br>
<br>
<br>
userRoutes<br>
--This file defines the API endpoints and connects them to the controller functions (create, fetch, update, deleteUser) from userController.js.<br>
<br>
	import express from "express";<br>
	import {<br>
		fetch,<br>
		create,<br>
		update,<br>
		deleteUser,<br>
	} from "../controller/userController.js";<br>
<br>
	const route = express.Router();<br>
<br>
	route.post("/create", create);<br>
	route.get("/getAllUser", fetch);<br>
	route.put("/update/:id", update);<br>
	route.delete("/delete/:id", deleteUser);<br>
<br>
	export default route;<br>

</p></body></html>
